%
(REZ PLOSKOSTI VDOL' 'X')
;
;
;
(I - NACHALNAYA TOCHKA 'X' #4) 
(X - KRAYNYAYA TOCHKA 'X' #24) 
(H* - NACHALNAYA VISOTA #11)
(Z - Z KONECHNIY #26)
(E* - SYOM PO 'Z' #8)
(S* - IZMENIT' NAPRAVLENIYE OBRABOTKI 1-ON/ 0-OFF #19 )
(B*- VISOTA BEZOPASNOSTI #2)
(A*- VISOTA PEREHODOV OT OBR-KI #1)
(W*- UGOL VIHODA #23)
(J*- RASSTOYANIYE OTHODA PO 'X' S UGLOM 'W' #5)
(* - UKAZIVAT' PRI NADOBNOSTI)
; 
; 
#100=150.(PODYYOM PO 'Z' USLOVNIY)
; 
#101=1.(VISOTA REPEHODOV PO 'Z') 
;
;
;
#109=30. ('W' PO UMOLCHANIYU)
#110=2. ('J' PO UMOLCHANIYU)
;
#102=0.
#120=0.
#121=0. (SCHOT. Z)
;
IF[[#11EQ#0]AND[#8EQ#0]]THEN #102=1.
IF[#102EQ1.]GOTO104
GOTO105
N104
#8=0.01
#11=#26+#8
N105
;
(DLYA PEREHODOV PO 'Z')
;
IF[[#11GE0]AND[#26LE0]]THEN #103=ABS[#11]+ABS[#26] 
;
IF[[#11LE0]AND[#26LT0]]THEN #103=ABS[#26]-ABS[#11]
;
IF[[#11GT0]AND[#26GE0]]THEN #103=#11-#26 
;
;
IF [#8GT#103]THEN #8=#103
IF[#102EQ1.]THEN #103=#8
;
;
;
IF[#23EQ#0]THEN #23=#109
IF[#5EQ#0]THEN #5=#110
IF[#1EQ#0]THEN #1=#101
IF[#2EQ#0]THEN #2=#100
IF[#2LT#1]THEN #2=#1
#100=#2
#101=#1
IF[#19EQ#0]THEN #19=0.
IF[#4EQ#0]GOTO150
IF[#24EQ#0]GOTO151
IF[#26EQ#0]GOTO152
IF[#26GE#11]GOTO153
IF[#11EQ#0]GOTO154
IF[#8EQ#0]GOTO155
IF[#24EQ#4]GOTO156
IF[#26EQ#11]GOTO157
IF[#1LT0.]GOTO158
IF[#2LT0.]GOTO159
IF[#5LT0.]GOTO160
IF[#23LT0.]GOTO161
IF[#23GT90.]GOTO162
;
IF[#4LT#24]THEN #113=-1. (NARUZHU)
IF[#24LT#4]THEN #113=1. (VNUTR')
;
;
;
#104=FUP[#103/#8] (KOL-VO PR-DOV)
#105=#4 (T1. 'X')
#106=#24 (T2 'X')
#112=#5 ('J')
#118=#101
;
#108=#103/#104 (SYOM FAKT.)
#119=90-#23
IF[#102EQ1.]GOTO102
GOTO103
N102
#104=1.
#108=#8
N103
(*IF[#101LT#108]THEN #118=#108*)
#111=ABS[#4-#24]
IF[#111LT#5]GOTO107            (**)
GOTO108
N107
#112=#111 (J)
#115=#112/2. ('J'/2.)
#114=TAN[#23]*#115 (Z DLYA 'J')
IF[#118GT#114]THEN #118=0.
#120=1.
N108                           (**)
#115=#112/2. ('J'/2.)
#114=TAN[#23]*#115 (Z DLYA 'J')
IF[#118LT#114]GOTO110
GOTO111
N110
IF[[#120EQ1.]AND[#118EQ0.]]GOTO111
#114=#118
#112=TAN[#119]*#114*2.
#118=0.
N111
#118=#118-#114
IF[#118LT0.]THEN #118=0.

;
IF[#19EQ1.]GOTO100
GOTO101
N100
#113=#113*-1.
#105=#24 (T1. 'X')
#106=#4 (T2 'X')
N101
;
IF[#113EQ1.]GOTO109
(DIS,"OBRABOTKA IZNUTRI NARUZHU") //(#113=-1.)
#116=#106-#112
GOTO106
N109
(DIS,"OBRABOTKA SNARUZHI VNUTR'") //(#113=1.)
#116=#106+#112
N106
;

;
;
;
#107=#11 (Z)
G0G90X#105 (T.1 'X')
G0G90Z[#11+#100] 
Z[#11+#101]
G1G90Z#11
N112
G0G90X#105 (T.1 'X')
#107=#107-#108 (Z OBR)
#121=#121+1.
G1G90Z#107
G1X#106 (T.2 'X')
#117=#107+#114 (Z OTH)
G0G90Z#117X#116
G0G91Z#118
IF[#121LT#104]GOTO112
G0G90Z[#11+#100] 
M99
;
//
#500=0.
G0G90Z#500+100.
Z#500
/M30
//
;
;
;
N150
(NE UKAZANA #I)
M0
;
N151
(NE UKAZANA #X)
M0
;
N152
(NE UKAZANA #Z)
M0
;
N153
(Z>=H)
M0
;
N154
(NE UKAZAN #H ILI LISHNIY #E)
M0
;
N155
(NE UKAZAN #E ILI LISHNIY #H)
M0
;
N156
(I=X)
M0
;
N157
(H=Z)
M0
;
N158
(A<0.)
M0
;
N159
(B<0.)
M0
;
N160
(J<0.)
M0
;
N161
(W<0.)
M0
;
N162
(W>90.)
M0
;
%